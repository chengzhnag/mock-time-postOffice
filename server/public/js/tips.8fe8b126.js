(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["tips"],{2708:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n={data:function(){return{}},filters:{},methods:{validEmail:function(e,t,r){console.log(t);var n=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;n.test(t)||r(new Error("邮箱格式不正确")),r()}}}},"365c":function(e,t,r){"use strict";r.d(t,"f",(function(){return u})),r.d(t,"h",(function(){return l})),r.d(t,"d",(function(){return s})),r.d(t,"b",(function(){return c})),r.d(t,"a",(function(){return m})),r.d(t,"e",(function(){return d})),r.d(t,"c",(function(){return f})),r.d(t,"g",(function(){return b}));r("d3b7");var n=r("bc3a"),o=r.n(n);o.a.defaults.withCredentials=!0;var i=o.a.create({baseURL:"",timeout:8e3});i.interceptors.request.use((function(e){return console.log("config: ",e),e}),(function(e){return console.log(e),Promise.reject()})),i.interceptors.response.use((function(e){if(200===e.status)return e.data;Promise.reject()}),(function(e){return console.log(e),Promise.reject()}));var a=i,u=function(e){return a({url:"/send",method:"post",data:e})},l=function(e){return a({url:"/extract",method:"post",data:e})},s=function(e){return a({url:"/getPublicLetter",method:"get",params:e})},c=function(e){return a({url:"/getAllLetter",method:"get",params:e})},m=function(e){return a({url:"/byExtractGetEmail",method:"post",data:e})},d=function(e){return a({url:"/getQuestion",method:"get",params:e})},f=function(e){return a({url:"/getEmail",method:"get",params:e})},b=function(e){return a({url:"/tips",method:"post",data:e})}},"511b":function(e,t,r){},"9c4b":function(e,t,r){"use strict";r.r(t);var n,o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"index-box"},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"190px",size:"small","label-position":"left"}},[r("el-form-item",{staticClass:"media-mobile",attrs:{label:"您的昵称",prop:"name"}},[r("el-input",{attrs:{placeholder:"请填写昵称, 将在邮件的标题中出现"},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),r("el-form-item",{staticClass:"media-mobile",attrs:{label:"收件邮箱",prop:"email"}},[r("el-input",{attrs:{placeholder:"可以是你自己, 或是任何一个你想倾诉的人. 填写TA的邮箱地址, 形如 abc@163.com"},model:{value:e.ruleForm.email,callback:function(t){e.$set(e.ruleForm,"email",t)},expression:"ruleForm.email"}})],1),r("el-form-item",{staticClass:"media-mobile",attrs:{label:"是否公开",prop:"type"}},[r("el-checkbox",{attrs:{label:'选中后, 信的内容将在"公开信"中展示, 所有人都可以浏览和评论'},model:{value:e.ruleForm.public,callback:function(t){e.$set(e.ruleForm,"public",t)},expression:"ruleForm.public"}})],1),r("div",{staticClass:"edit_container"},[r("quill-editor",{ref:"myQuillEditor",attrs:{options:e.editorOption},on:{blur:function(t){return e.onEditorBlur(t)},focus:function(t){return e.onEditorFocus(t)},change:function(t){return e.onEditorChange(t)}},model:{value:e.ruleForm.content,callback:function(t){e.$set(e.ruleForm,"content",t)},expression:"ruleForm.content"}})],1),r("el-form-item",{staticClass:"not-media-mobile"},[r("div",{staticClass:"verification-box"},[r("el-button",{staticStyle:{width:"120px"},attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("提交")])],1)])],1)],1)},i=[],a=r("ade3"),u=(r("560b"),r("450d"),r("dcdc")),l=r.n(u),s=(r("f4f9"),r("c2cc")),c=r.n(s),m=(r("eca7"),r("3787")),d=r.n(m),f=(r("425f"),r("4105")),b=r.n(f),p=(r("b0c0"),r("953d")),g=(r("a753"),r("8096"),r("14e1"),r("365c")),h=r("2708"),F={components:(n={},Object(a["a"])(n,b.a.name,b.a),Object(a["a"])(n,d.a.name,d.a),Object(a["a"])(n,c.a.name,c.a),Object(a["a"])(n,l.a.name,l.a),Object(a["a"])(n,"quillEditor",p["quillEditor"]),n),mixins:[h["a"]],data:function(){return{ruleForm:{name:"",email:"",public:!1,content:""},rules:{name:[{required:!0,message:"请输入您的昵称",trigger:"blur"}],email:[{required:!0,message:"请输入收件邮箱",trigger:"blur"},{validator:this.validEmail,trigger:"blur"}],type:[{required:!1}]},editorOption:{}}},beforeMount:function(){},computed:{editor:function(){return this.$refs.myQuillEditor.quill},url:function(){return""}},mounted:function(){},methods:{handleSelect:function(){},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;if(t.ruleForm.content){var r={name:t.ruleForm.name,receiptEmail:t.ruleForm.email,isPublic:t.ruleForm.public,content:t.ruleForm.content},n=t.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});Object(g["g"])(r).then((function(e){console.log(e),n.close(),e.statusCode?(t.$message({showClose:!0,message:"发送成功",type:"success"}),setTimeout((function(){t.$storage.write("email-data",e.data||{}),t.$router.push("extract")}),400)):t.$message.error(e.message)})).catch((function(e){n.close(),t.$message.error("发送失败, 请稍后重试")}))}else t.$message("请输入邮件内容")}))},resetForm:function(e){this.$refs[e].resetFields()},onEditorReady:function(e){},onEditorBlur:function(){},onEditorFocus:function(){},onEditorChange:function(){}}},v=F,E=(r("f6d3"),r("2877")),x=Object(E["a"])(v,o,i,!1,null,"fb2a4642",null);t["default"]=x.exports},f6d3:function(e,t,r){"use strict";r("511b")}}]);